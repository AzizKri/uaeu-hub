import Search from '../Search/Search.tsx';
import styles from './NavBar.module.scss';
import {useUser} from "../../lib/hooks.ts";
import React, {useEffect} from "react";
import {Link} from "react-router-dom";
// import { useState } from 'react';
//
// enum Page {
//     Home,
//     Questions
// }

export default function NavBar() {
    const {user} = useUser();
    // const [page, setPage] = useState<Page>(Page.Home);

    useEffect(() => {
        console.log("user", user);
    }, [user]);

    const showAside: React.MouseEventHandler<HTMLDivElement> = () => {
        const left = document.getElementById("left");
        if (left) {
            left.classList.toggle("active");
        }
    }
    return (
        <>
            <div className={styles.navbar}>
                <div className={styles.menu} onClick={showAside}>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="32px" height="32px" fill="currentColor">
                        <path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"/>
                    </svg>
                </div>
                <Link to="/">
                    <div className={styles.navbar_logo}>
                        <svg xmlnsXlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"
                             zoomAndPan="magnify"
                             height="40px"
                             viewBox="86 99 172.5 88.386719" preserveAspectRatio="xMidYMid meet" version="1.0">
                            <defs>
                                <clipPath id="7358b77053">
                                    <path
                                        d="M 86.59375 99 L 259.09375 99 L 259.09375 187.386719 L 86.59375 187.386719 Z M 86.59375 99 "
                                        clipRule="nonzero"/>
                                </clipPath>
                            </defs>
                            <g clipPath="url(#7358b77053)">
                                <path fill="#ff914d"
                                      d="M 136.59375 140.808594 C 136.59375 143.519531 138.792969 145.714844 141.5 145.714844 C 144.210938 145.714844 146.40625 143.519531 146.40625 140.808594 C 146.40625 138.101562 144.210938 135.902344 141.5 135.902344 C 138.792969 135.902344 136.59375 138.101562 136.59375 140.808594 Z M 122.070312 140.808594 C 122.070312 143.519531 124.269531 145.714844 126.976562 145.714844 C 129.6875 145.714844 131.882812 143.519531 131.882812 140.808594 C 131.882812 138.101562 129.6875 135.902344 126.976562 135.902344 C 124.269531 135.902344 122.070312 138.101562 122.070312 140.808594 Z M 107.425781 140.808594 C 107.425781 143.519531 109.621094 145.714844 112.332031 145.714844 C 115.042969 145.714844 117.242188 143.519531 117.242188 140.808594 C 117.242188 138.101562 115.042969 135.902344 112.332031 135.902344 C 109.621094 135.902344 107.425781 138.101562 107.425781 140.808594 Z M 124.9375 173.445312 C 122.351562 173.132812 119.8125 172.523438 117.382812 171.632812 C 116.644531 171.363281 115.835938 171.363281 115.09375 171.628906 L 95.902344 178.570312 L 101.828125 162.386719 C 102.203125 161.359375 102.054688 160.214844 101.429688 159.320312 C 96.707031 152.554688 94.652344 144.3125 95.640625 136.113281 C 96.710938 127.214844 101.183594 119.265625 108.234375 113.734375 C 115.285156 108.199219 124.070312 105.742188 132.96875 106.816406 C 138.8125 107.519531 144.371094 109.746094 149.050781 113.253906 L 153.0625 107.898438 C 147.445312 103.691406 140.773438 101.019531 133.769531 100.175781 C 123.097656 98.886719 112.5625 101.835938 104.105469 108.472656 C 95.648438 115.109375 90.285156 124.640625 88.996094 135.316406 C 87.882812 144.558594 90 153.851562 94.964844 161.675781 L 87.15625 183.007812 C 86.710938 184.226562 87.011719 185.597656 87.929688 186.515625 C 88.566406 187.160156 89.421875 187.5 90.296875 187.5 C 90.679688 187.5 91.0625 187.433594 91.433594 187.300781 L 116.253906 178.324219 C 118.808594 179.171875 121.453125 179.761719 124.136719 180.085938 C 125.765625 180.28125 127.390625 180.378906 129.003906 180.378906 C 139.386719 180.378906 149.367188 176.375 156.949219 169.042969 L 152.296875 164.234375 C 144.992188 171.300781 135.019531 174.660156 124.9375 173.445312 Z M 259.222656 134.117188 L 259.222656 128.542969 L 248.941406 128.542969 L 248.941406 116.46875 L 242.40625 118.578125 L 242.40625 128.542969 L 235.394531 128.542969 L 235.394531 134.117188 L 242.40625 134.117188 L 242.40625 158.265625 C 242.40625 166.234375 245.980469 170.21875 253.125 170.21875 C 255.648438 170.21875 257.679688 169.792969 259.222656 168.945312 L 259.222656 163.363281 C 258.027344 164.269531 256.605469 164.71875 254.957031 164.71875 C 252.808594 164.71875 251.265625 164.136719 250.335938 162.964844 C 249.40625 161.796875 248.941406 159.847656 248.941406 157.109375 L 248.941406 134.117188 Z M 226.347656 148.703125 L 216.503906 150.054688 C 213.476562 150.480469 211.191406 151.234375 209.652344 152.308594 C 208.109375 153.382812 207.339844 155.292969 207.339844 158.027344 C 207.339844 160.019531 208.050781 161.644531 209.472656 162.90625 C 210.890625 164.167969 212.785156 164.800781 215.148438 164.800781 C 218.390625 164.800781 221.066406 163.664062 223.179688 161.394531 C 225.289062 159.121094 226.347656 156.246094 226.347656 152.765625 Z M 232.882812 142.804688 L 232.882812 169.34375 L 226.347656 169.34375 L 226.347656 162.964844 L 226.1875 162.964844 C 223.34375 167.855469 219.160156 170.300781 213.636719 170.300781 C 209.570312 170.300781 206.390625 169.222656 204.09375 167.070312 C 201.792969 164.917969 200.644531 162.0625 200.644531 158.503906 C 200.644531 150.878906 205.132812 146.445312 214.113281 145.195312 L 226.347656 143.480469 C 226.347656 136.550781 223.542969 133.082031 217.9375 133.082031 C 213.023438 133.082031 208.585938 134.757812 204.628906 138.105469 L 204.628906 131.410156 C 208.640625 128.859375 213.261719 127.585938 218.496094 127.585938 C 228.085938 127.585938 232.882812 132.660156 232.882812 142.804688 Z M 196.257812 144.199219 L 196.257812 169.34375 L 189.722656 169.34375 L 189.722656 145.832031 C 189.722656 137.332031 186.5625 133.082031 180.238281 133.082031 C 177.050781 133.082031 174.371094 134.3125 172.191406 136.769531 C 170.011719 139.226562 168.925781 142.382812 168.925781 146.230469 L 168.925781 169.34375 L 162.390625 169.34375 L 162.390625 108.9375 L 168.925781 108.9375 L 168.925781 135.316406 L 169.082031 135.316406 C 172.21875 130.160156 176.679688 127.585938 182.46875 127.585938 C 191.660156 127.585938 196.257812 133.125 196.257812 144.199219 "
                                      fillOpacity="1" fillRule="nonzero"/>
                            </g>
                        </svg>
                    </div>
                </Link>
                <Search/>
                <div className={styles.right}>
                    {(user && !user.isAnonymous) ? (
                        <>
                            <h3>{user.username}</h3>
                            <h4>{user.displayName}</h4>
                            <p>{user.bio}</p>
                        </>
                    ) : (
                        <div className={styles.auth_buttons}>
                            <Link to="/signup" className={styles.signup}>Sign Up</Link>
                            <Link to="/login" className={styles.login}>Log In</Link>
                        </div>
                    )}
                </div>
            </div>
        </>
    );
}
